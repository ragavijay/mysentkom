{% extends "base.html" %}
{% block title %}Edit Post{% endblock %}
{% block content %}
<div class="container">
    <h1 class="page-title">Edit Post</h1>
    <div class="card">
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="clusterid">Cluster</label>
                <select id="clusterid" name="clusterid" required>
                    {% for cluster in clusters %}
                    <option value="{{ cluster.clusterid }}" {% if cluster.clusterid == post.clusterid.clusterid %}selected{% endif %}>
                        {{ cluster.clustername }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="postlink">Post Link</label>
                <input type="url" id="postlink" name="postlink" value="{{ post.postlink }}" required>
            </div>
            <div class="form-group">
                <label for="postmessage">Post Message</label>
                <textarea id="postmessage" name="postmessage" required>{{ post.postmessage }}</textarea>
            </div>
            <div style="display: flex; gap: 1rem;">
                <button type="submit" class="btn btn-success">Update Post</button>
                <a href="{% url 'manage_posts' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}